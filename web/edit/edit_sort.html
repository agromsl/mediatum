
<tal:block metal:define-macro="edit_sort">
    <script tal:condition="python:runscript==True" language="javascript">
        parent.reloadTree('');
    </script>

    <h3 i18n:translate="edit_sort_header">TEXT</h3>
    <form>
        <input type="hidden" name="tab" value="tab_subfolder"/>
        <input tal:attributes="value python:node.id" type="hidden" name="id"/>
            <table id="sorttable">
                <tr>
                    <th id="sorttable" i18n:translate="edit_sort_name">TEXT</th>
                    <th id="sorttable" width="40px" i18n:translate="edit_sort_position">TEXT</th>
                    <th id="sorttable" width="40px">&nbsp;</th>
                    <th id="sorttable" width="40px">&nbsp;</th>
                </tr>
                <tr tal:repeat="child nodelist">
                    <td id="sorttable" tal:content="python:child.name"/>
                    <td id="sorttable" align="right" tal:content="python: nodelist.index(child)+1"/>
                    <td id="sorttable" align="center">
                        <input tal:condition="python: nodelist.index(child)>0" tal:attributes="name python:'up_'+str(nodelist.index(child))" i18n:attributes="title edit_sort_up_title" title="TEXT" type="image" src="/img/uparrow.png"/>
                        <tal:block tal:condition="python: nodelist.index(child)==0" tal:replace="raw python:'&nbsp;'"/>
                    </td>
                    <td id="sorttable" align="center">
                        <input tal:condition="python:nodelist.index(child)<len(nodelist)-1" tal:attributes="name python:'down_'+str(nodelist.index(child))" i18n:attributes="title edit_sort_down_title" title="TEXT" type="image" src="/img/downarrow.png"/>
                        <tal:block tal:condition="python:nodelist.index(child)==len(nodelist)-1" tal:replace="raw python:'&nbsp;'"/>
                    </td>
                </tr>
            </table>
    </form>
    <hr/>
    <h3 i18n:translate="edit_sort_label">TEXT</h3>
    <form>
        <input type="hidden" name="tab" value="tab_subfolder">
        <input tal:attributes="value python:node.id" type="hidden" name="id"/>
            <span i18n:translate="edit_sort_label_1">TEXT</span>
            <b>'<span i18n:translate="edit_sort_name">TEXT</span>'</b>
            <input i18n:attributes="value edit_sort_name" type="hidden" name="resort">
            <select name="direction">
                <option value="up" i18n:translate="edit_sort_up">TEXT</option>
                <option value="down" i18n:translate="edit_sort_down">TEXT</option>
            </select>
        <br/>&nbsp;<br/>
        <input i18n:attributes="value edit_sort_sort" type="submit" name="autosort" value="TEXT"/>
        
    </form>
</tal:block>

<tal:block metal:define-macro="edit_autosort">
    <h3 i18n:translate="edit_sort_header_auto">TEXT</h3>
    <form>
        <input type="hidden" name="tab" value="tab_sortfiles">
        <input tal:attributes="value python:node.id" type="hidden" name="id"/>
        <select name="globalsort">
        <tal:block tal:repeat="sortchoice sortchoices">
            <option onSelect="form.submit()" tal:attributes="value python:sortchoice.value" 
                                             tal:condition="python:sortchoice.value==collection_sortfield"
                                             tal:content="python:sortchoice.label"
                                             selected="selected"
                                             ></option>
            <option onSelect="form.submit()" tal:attributes="value python:sortchoice.value" 
                                             tal:condition="python:sortchoice.value!=collection_sortfield"
                                             tal:content="python:sortchoice.label"
                                             ></option>
        </tal:block>
        </select>
        <input type="submit" name="ok" value="ok"/>
    </form>
</tal:block>
