<metal:block metal:define-macro="edit_startpages">
    <script type="text/javascript">       
        function questionDel(){
            return confirm(unescape(document.getElementById("deleteconfirm").innerHTML));
        }
    </script> 
    
    <div id="deleteconfirm" i18n:translate="edit_startpages_deleteconfirm" style="display:none">TEXT</div>
    <div>
        <p>
            <b i18n:translate="edit_startpages_header">TEXT</b>
            <small i18n:translate="edit_startpages_explain_table">TEXT</small>
        </p>

        <form id="00" tal:attributes="action python:'edit_content?id='+str(id)+'&tab=startpages'" method="post" enctype="multipart/form-data" name="startpages_add">
            <input i18n:attributes="value edit_startpages_addnew" type="submit" name="add_page"/>
        </form>   

        <form id="01" tal:attributes="action python:'edit_content?id='+str(id)+'&tab='+tab" method="post" enctype="multipart/form-data" name="startpages" style="border-color: silver; border-style: solid; border-width: 1px; width: 900px">
            <style type="text/css">
                .td00,.th00{
                    border-color: silver; border-width: 0 1px 1px 0; border-style: solid; /*padding: 0 4px 0 4px;*/
                }      
                .td01,.th01{
                    border-color: silver; border-width: 0 1px 1px 0; border-style: solid; /*padding: 0 4px 0 4px;*/ 
                }
            </style>
            <table id="filetable" style="border-color: silver; border-style: solid; border-width: 1px 0 0 1px;" rules="all" cellspacing="0">
                <tr>
                    <th tal:repeat="lang languages" style="text-align:center" class="th00" tal:content="python: lang">TEXT</th> 
                    <td class="td01" i18n:translate="edit_startpages_link">TEXT</td> 
                    <td class="td01" i18n:translate="edit_startpages_technical_name">TEXT</td> 
                    <td class="td01" i18n:translate="edit_startpages_file_size">TEXT</td>
                    <td class="td01" i18n:translate="edit_startpages_ed">TEXT</td> 
                    <td class="td01" i18n:translate="edit_startpages_delete">TEXT</td> 
                    <td class="td01" i18n:translate="edit_startpages_descriptive_name">TEXT</td>
                </tr>
                
                <tr tal:repeat="item named_filelist" tal:attributes="id python:item[0];">
                    <td tal:repeat="lang languages" class="td00">
                        <input type="radio" style="border:1px solid white" i18n:attributes="title edit_startpages_selectlanguage" tal:attributes="name python:'radio_'+lang; value python:item[0]; checked python:{'False':None,'True':'checked'}[str(lang in item[7])]"/>
                    </td> 
         
                    <td class="td01">  
                        <a target="_blank" tal:attributes="href python:item[8]" tal:content="python:item[8]">LINK</a>
                    </td>
                    <td class="td01">  
                        <span tal:content="python:item[0]"/>
                    </td>
                    <td class="td01" style="text-align:right">
                        <span tal:content="python:item[5]"/>
                    </td>                       
        
                    <td class="td01" style="text-align:center;">
                        <a tal:attributes="href python:'edit_content?id='+id+'&tab=startpages&file_to_edit='+item[0]" i18n:attributes="title edit_startpages_edit">
                            <img src="/img/edit_opt.png" style="height:14px;"/>
                        </a> 
                    </td>
  
                    <td class="td01" style="text-align:center; valign:middle;width:75px">
                        <input tal:attributes="name python:'delete_'+item[0]" i18n:attributes="title edit_startpages_delete" type="image" src="/img/delete.png" onclick="return questionDel()"/>
                    </td>
        
                    <td class="td01">  
                        <input type="text" tal:attributes="name python: 'descr.'+item[0]; value python:item[1]" style="width: 300px;"/>
                    </td>  
                </tr>           
                
                <tr>
                    <td tal:repeat="lang languages" class="td00">
                        <input type="radio" style="border:1px solid white" i18n:attributes="title edit_startpages_selectlanguage" tal:attributes="name python:'radio_'+lang; value python:''; checked python:{'False':None,'True':'checked'}[str(node.getStartpageFileNode(lang)==None)]"/>
                    </td> 
                    <td style="text-align:left" class="td01" i18n:translate="edit_startpages_none">TEXT</td> 
                    <td style="text-align:left" class="td01" i18n:translate="edit_startpages_none">TEXT</td> 
                    <td style="text-align:right" class="td01" i18n:translate="edit_startpages_not_applicable">TEXT</td>
                    <td class="td01"> &nbsp; </td>
                    <td class="td01"> &nbsp; </td> 
                    <td class="td01" i18n:translate="edit_startpages_do_not_use_a_startpage">TEXT</td>
                </tr>        
            </table>
        
            <div> &nbsp; </div> 
            <input i18n:attributes="value edit_startpages_savechanges" type="submit" name="startpages_save"/>
            <input i18n:attributes="value edit_startpages_reset" type="reset" name="startpages_reset"/>
        </form> 

        <form id="02" tal:attributes="action python:'edit_content?id='+str(id)+'&tab=startpages'" tal:define="files python:node.getFiles()" method="post" enctype="multipart/form-data" name="startpages_add">
            <input i18n:attributes="value edit_startpages_addnew" type="submit" name="add_page"/>
        </form>  
    </div>
</metal:block>  


<form metal:define-macro="edit_editor" tal:attributes="action python:'?id='+id+'&tab=startpages'" method="post">
    <span i18n:translate="edit_editor_header">TEXT</span> 
    <strong>
        <span tal:content="python: descriptiveLabel">TEXT</span>
    </strong>
    <tal:block tal:replace="raw python:oFCKeditor.Create()"/>

    <p align="center">
        <input tal:attributes="value path" type="hidden" name="file_path"/>
        <input i18n:attributes="value edit_editor_save" type="submit" name="save_page"/>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <input i18n:attributes="value edit_publish_cancel" type="submit" name="cancel_page"/>
    </p>
</form>
 


<p metal:define-macro="header">
    <span i18n:translate="edit_editor_header">TEXT</span> 
    <strong>
        <span tal:content="python: descriptiveLabel">TEXT</span>
    </strong>
</p>

<tal:block metal:define-macro="fckeditor_customs_filemanager">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
    <head>
        <title>node image browser</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="robots" content="noindex, nofollow">
        <link href="/module/editor/filemanager/browser/default/browser.css" type="text/css" rel="stylesheet"> 
                
        <style type="text/css">
            .imagecontainer { height:150px; width: 150px; float:left; border:1px solid #888; padding:3px; margin:3px; text-align:center; display:block; vertical-align:middle;}
            .innerimagecontainer { height:110px; width:144px; border:1px solid #888; }
            .image { border:1px solid #888;}
            #closewindowdiv{ clear:left;}
        </style>
        <script type="text/javascript">
            function SelectFile( fileUrl ){
                window.opener.SetUrl( fileUrl ) ;
                window.close() ;
            }
        </script>
    </head>
    <body>
        <div id="deleteconfirm" i18n:translate="edit_fckeditor_cfm_deleteconfirm" style="display:none">TEXT</div>

        <div height="20%">
            <table>
                <tr>
                    <table width="100%" cellspacing="0" cellpadding="0" border="0" >
                        <tbody>
                            <tr>
                                <td>
                                    <button type="button" style="width: 100%;">
                                        <table width="100%" cellspacing="0" cellpadding="0" border="0">
                                            <tbody>
                                                <tr>
                                                <td><img height="32" width="32" src="/module/editor/filemanager/browser/default/images/FolderOpened32.gif" alt=""/></td>
                                                <td> </td>
                                                <td nowrap="" width="100%" class="ActualFolder" id="tdName" tal:content="python:'/ node.id='+node.id+' ('+node.name+')'">TEXT</td>
                                                <td> </td>
                                                <td><img height="8" width="12" alt="" src="/module/editor/filemanager/browser/default/images/ButtonArrow.gif"/></td>
                                                <td> </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </tr>
            </table>
            <h3 tal:condition="python:len(files)>0" i18n:translate="edit_fckeditor_cfm_clicktochoose" style="border-bottom-style:solid;border-width:1px;padding:10px;">TEXT</h3>
            <h3 tal:condition="python:len(files)==0" i18n:translate="edit_fckeditor_cfm_hasnoimages" style="border-bottom-style:solid;border-width:1px;padding:10px;">TEXT</h3>  

            <div tal:condition="python:len(files)==0">
                <form method="post">
                    <input type="button" i18n:attributes="value edit_fckeditor_cfm_closewindow" onclick="window.close()"/>
                </form>  
            </div>
            <div style="padding:10">

            <div>
                <div class="imagecontainer" tal:repeat="file files" tal:attributes="id python:file.getName()">
                    <div class="innerimagecontainer"  tal:attributes="onclick python:'return SelectFile(\'/file/'+node.id+'/'+file.getName()+'\', '+node.id+')'">
                        <img class="image" i18n:attributes="title edit_fckeditor_cfm_clicktochoose" tal:attributes="width python:fit(file.retrieveFile(), (140,100))[0]; height python:fit(file.retrieveFile(), (140,100))[1]; src python:'/file/'+node.id+'/'+file.getName();"/>
                    </div>
                    <div i18n:attributes="title edit_fckeditor_cfm_nameonserver;" tal:attributes="onclick python:'return SelectFile(\'/file/'+node.id+'/'+file.getName()+'\', '+node.id+')'" tal:content="python:'/file/'+node.id+'/'+file.getName()">TEXT</div>   
                
                    <span style="color:#dd0000;" width="50px" tal:condition="python:(file.getName())==(logoname)" i18n:translate="edit_fckeditor_cfm_imageislogo">TEXT</span>        
                    <span width="50px" tal:condition="python:(file.getName())!=(logoname)">&nbsp;</span>    
                
                    <span tal:condition="python: False">
                        <!-- disabled delete button !-->        
                        <script type="text/javascript">
                            function delete_nodefile(s, id, filename){
                                var win1;
                                var erg;
                                var mssg = document.getElementById("deleteconfirm").innerHTML;
                                erg = confirm(unescape(mssg));
                                if (erg == true) {
                                    win1=window.open(s+'?delete=True', '', 'width=1,height=1');
                                    win1.close();
                                    var el = document.getElementById(filename);
                                    el.style.display = 'none';
                                    return 1;
                                } else {
                                    return 1;
                                };
                            }
                         </script>        
                        <div width="75px" style="text-align:center;" tal:condition="python:delbutton">
                            <img i18n:attributes="title edit_fckeditor_cfm_delete" tal:attributes="name python:'delete_'+file.getName(); onclick python:'return delete_nodefile(\'/edit/edit_content/'+node.id+'/startpages/'+file.getName()+'\', '+node.id+', \''+file.getName()+'\')'; " type="image" src="/img/delete.png"/>
                        </div>
                    </span>

                </div>   
            </div>  
            <div tal:condition="python: False"> 
                <!-- disabled upload form !-->
                <div id="div124" style="clear:left; border-style:solid;border-width:1px;height:100;padding:13">
                    <form id="form124" enctype="multipart/form-data" method="post">
                        <p i18n:translate="edit_fckeditor_cfm_uploadexplain">TEXT</p>
                        <input type="file" name="file" size="40" accept="image/*"/>
                        <div>
                            <input type="submit" i18n:attributes="value edit_fckeditor_cfm_uploadbutton"/>
                        </div>
                    </form>
                </div>
            </div>

            <div id="closewindowdiv" tal:condition="python:len(files)>0" style="border-top-style:solid;border-width:1px;padding:10px;margin-top:25px;">
                <form method="post">
                    <input type="button" i18n:attributes="value edit_fckeditor_cfm_closewindow" onclick="window.close()"/>
                </form>  
            </div>
        </div>
    </body>
</html>
</tal:block>


