<div metal:define-macro="navbar" style="width:290px">
    <div class="portlet">

        <span tal:define="search python:navigation['search']">
            <form tal:condition="python:search.isSimple()" id="search-box" name="search" action="/node" method="post" accept-charset="utf-8" style="padding:10px 0px 0px 10px">
                <input tal:attributes="value python:search.query()" id="search-field" name="query" style="width:180px"/>
                <input type="hidden" name="searchmode" value="simple"/>
                <input type="hidden" value="1" tal:attributes="name python:'c_'+search.collection.id" tal:condition="python:search.insideCollection()"/>
                <input i18n:attributes="value search; title search_title" id="search-button" type="submit" name="start_search"/>
                <a tal:condition="python:search.hasExtendedSearch()" tal:attributes="href python:search.searchLinkExtended()" i18n:translate="xsearch" id="advancedsearchlink">TEXT</a>   
                <input type="hidden" name="act_node" tal:attributes="value python:act_node"/>
            </form>

            <form tal:condition="python:search.isExtended()" action="/node" name="xsearch" id="search-box" action="/xsearch" method="post" accept-charset="utf-8"  style="padding:10px 0px 0px 10px">
                <input type="hidden" name="submittype" value="search"/>
                <input type="hidden" name="searchmode" value="extended"/>
                <input type="hidden" name="collection" tal:attributes="value python:search.collection.id"/>
                <input type="hidden" name="act_node" tal:attributes="value python:act_node"/>
                <table>

                    <tr tal:repeat="i python:[1,2,3]">
                        <td valign="top">
                            <select tal:attributes="name python:'field'+str(i)" onchange="chg()">
                                
                                <option tal:condition="python:search.names[i]=='full'" i18n:translate="all_metafields" selected="selected" value="full">TEXT</option>
                                <option tal:condition="python:search.names[i]!='full'" i18n:translate="all_metafields" value="full">TEXT</option>
                                <tal:block tal:repeat="a python:search.getSearchFields().keys()">
                                    <option tal:condition="python:search.names[i]==a" tal:attributes="value a" tal:content="python:search.getSearchFields()[a]" selected="selected"></option>
                                    <option tal:condition="python:search.names[i]!=a" tal:attributes="value a" tal:content="python:search.getSearchFields()[a]"></option>
                                </tal:block>
                            </select>
                        </td>
                        <td tal:content="raw python:search.getSearchField(i)"/>
                    </tr>

                    <tr>
                        <td colspan="2" align="right">
                            <button i18n:attributes="title reset_field_title" i18n:translate="reset_field" type="button" onclick="clearFields()" id="reset-button">TEXT</button>&nbsp;&nbsp;<button i18n:translate="search" i18n:attributes="title search_title" type="submit" name="Suche" id="xsearch-button">TEXT</button>
                        </td>
                    </tr>
                </table>

                <a tal:attributes="href python:search.searchLinkSimple()" i18n:translate="search_simple" id="advancedsearchlink">TEXT</a>
            </form>
        </span>

    </div>

    <div class="portlet" tal:define="col python:navigation['collection']; browse python:navigation['browse']">
        <ul id="navigationlist">
            <tal:block tal:repeat="data python:col.getCollections()">
              <li tal:attributes="class python:data.getClass()">
                 <div tal:attributes="style python:data.getStyle();class python:['linknotselected','linkselected'][data.active]">
                    <tal:block tal:condition="python:not data.isFolded()">
                        <a tal:attributes="href python:data.getFoldLink()" 
                           tal:content="raw python:data.getText()">TEXT</a>
                        <a tal:attributes="href python:data.getFoldLink()" 
                           i18n:attributes="title fold" class="expanded">-</a>
                    </tal:block>
                    <tal:block tal:condition="python:data.isFolded()">
                        <a tal:attributes="href python:data.getUnfoldLink()"
                           tal:content="raw python:data.getText()">TEXT</a>
                        <a tal:attributes="href python:data.getUnfoldLink()" 
                           i18n:attributes="title unfold" class="collapsed">-</a>
                    </tal:block>

                    <!--<ul tal:condition="python:not data.isFolded() and data.indent > 0" class="nav_depth02">
                        <li tal:attributes="class python:browse.collection.id==data.id and 'selected' or ''">
                            <a tal:content="python:data.getText()" 
                               href = ""
                               i18n:attributes="title collection_title">TEXT</a>
                            <a class=expanded' i18n:attributes="title">TEXT</a>
                        </li>
                    </ul>
                     -->
                 </div>
                 <ul class="nav_depth03" tal:condition="python:browse.collection.id==data.id and not data.isFolded() and data.hassubdir">
                     <tal:block tal:replace="raw python:browse.getBrowsingTree()"/>
                 </ul >
              </li>
            </tal:block>
        </ul>
    </div>

    <!--<div class="portlet">
        <ul id="navigationlist">
            <li tal:define="nav python:navigation['navitem']">
                <tal:block tal:repeat="data python:nav.ni_data">
                    <a tal:condition="python:data.type=='navitem'" tal:attributes="href python:'&id='+data.id" tal:content="python:data.getName()">TEXT</a>
                    <a tal:condition="python:data.type=='navitem'" tal:attributes="href python:'&id='+data.id;class python:nav.isFolded() and 'collapsed' or 'expanded';title python:nav.isFolded() and 'unfold' or 'fold'" i18n:attributes="title">-</a>
                </tal:block>
            </li>
        </ul>
    </div>-->
</div>

