
<tal:block metal:define-macro="edit_subfolder">
    <script tal:condition="runscript" language="javascript">
        parent.reloadTree('');
    </script>

    <h3 i18n:translate="edit_sort_header">TEXT</h3>
    <form>
        <input type="hidden" name="tab" value="tab_subfolder"/>
        <input tal:attributes="value python:node.id" type="hidden" name="id"/>
            <table id="sorttable">
                <tr>
                    <th id="sorttable" i18n:translate="edit_sort_name"/>
                    <th id="sorttable" width="40px" i18n:translate="edit_sort_position"/>
                    <th id="sorttable" width="40px">&nbsp;</th>
                    <th id="sorttable" width="40px">&nbsp;</th>
                </tr>
                <tr tal:repeat="child nodelist">
                    <td id="sorttable" tal:content="python:child.name"/>
                    <td id="sorttable" align="right" tal:content="python: nodelist.index(child)+1"/>
                    <td id="sorttable" align="center">
                        <input tal:condition="python: nodelist.index(child)>0" tal:attributes="name python:'up_'+str(nodelist.index(child))" i18n:attributes="title edit_sort_up_title" title="TEXT" type="image" src="/img/uparrow.png"/>
                        <tal:block tal:condition="python: nodelist.index(child)==0" tal:replace="raw python:'&nbsp;'"/>
                    </td>
                    <td id="sorttable" align="center">
                        <input tal:condition="python:nodelist.index(child)<len(nodelist)-1" tal:attributes="name python:'down_'+str(nodelist.index(child))" i18n:attributes="title edit_sort_down_title" title="TEXT" type="image" src="/img/downarrow.png"/>
                        <tal:block tal:condition="python:nodelist.index(child)==len(nodelist)-1" tal:replace="raw python:'&nbsp;'"/>
                    </td>
                </tr>
            </table>
    </form>
    <hr/>
    <h3 i18n:translate="edit_sort_label">TEXT</h3>
    <form>
        <input type="hidden" name="tab" value="tab_subfolder">
        <input tal:attributes="value python:node.id" type="hidden" name="id"/>
        <input i18n:attributes="value edit_sort_name" type="hidden" name="resort"/>

        <p>
            <span i18n:translate="edit_sort_label_1"/>
            <select name="sortattribute">
                <optgroup label="Spezialattribute">
                    <option value="name" i18n:translate="edit_sort_name"/>
                </optgroup>
                
                <optgroup label="Attribute">
                    <option tal:repeat="sortattribute sortattributes" tal:attributes="value python:sortattribute.getName()" tal:content="python:sortattribute.getLabel()"/>
                </optgroup>
            </select>
            <select name="sortdirection">
                <option value="up" i18n:translate="edit_sort_up"/>
                <option value="down" i18n:translate="edit_sort_down"/>
            </select>
        </p>
        <input i18n:attributes="value edit_sort_sort" type="submit" name="autosort"/>       
    </form>
</tal:block>
