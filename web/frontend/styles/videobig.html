<div id="object_main_" style="position:relative">
    <div style="width:100%; text-align:right">
        <a tal:attributes="href python:u'javascript:shoppingBag(\'{}\')'.format(node.id)">
            <img i18n:attributes="title view_list_add_shoppingbag" border="0" src="/img/favourite_add.png"/></a>
        <a tal:attributes="href python:u'/print/{}'.format(node.id)" i18n:attributes="title printview" target="_blank"><img src="/img/print_icon.gif"/></a>
    </div>
</div>

        <script type="text/javascript" src="/js/jwplayer.min.js"> </script>
        
        <script tal:content="python:u'var file_url = \''+ustr(file)+'\';'">;</script>
        <script tal:content="python:u'var thumbnail_url = \'/thumb2/{}\';'.format(node.id)">;</script>
        <script tal:content="python:u'var captions_info = '+ustr(captions_info)+';'">;</script>

<div tal:condition="python:not canseeoriginal" style="border:1px solid silver">
    <img tal:attributes="src python:u'/thumb2/{}'.format(node.id)"/>
</div>
<div tal:condition="python:canseeoriginal" tal:attributes="width python:node.get('vid-width')+'px';height python:node.get('vid-height')+'px'" style="border:1px solid silver; height:400px;text-align:center">
<a tal:attributes="href file" style="display:block;" id="player"> </a>
</div>

        
          <script type="text/javascript">
          
              function get_captions_plugin() {
                if (captions_info && typeof captions_info["file_list"] != 'undefined' && captions_info["file_list"].length > 0) {
                    return {
                      '/js/captions.js': {
                          state: true,  // initial state on/off
                          
                          // default values - may be overridden by styling in caption files
                          back: false,  // underlay with rectangle to increase readability
                          color: '#FFF',  // font color
                          fontSize: 14,
                          fontFamily: 'Arial,sans-serif',  // 'Courier'
                          fontStyle: 'normal',  // 'normal' or 'italic'
                          fontWeight: 'normal',  // 'normal' or 'bold'
                          textDecoration: 'none',  // 'none' or 'underline'
                          
                          files: captions_info['file_list'],
                          labels: captions_info['label_list'],
                          label: captions_info['preset_label']
                      }
                  }
                }
                else {
                    return null;
                }
              }              
              
              jwplayer("player").setup({
                  file: file_url,
                  height: "100%",
                  image: thumbnail_url,
                  stretching: 'uniform',
                  plugins: get_captions_plugin(),
                  flashplayer: '/img/player.swf',
                  width: "100%",
                  autostart: false,
                  debug: 'console'
              });
          </script>


<p><small i18n:translate="video_plugin_info">TEXT</small></p>
<div id="object_meta_" style="margin-left:10px">
    <tal:block tal:content="raw metadata"/>
</div>
