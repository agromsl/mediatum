
<tal:block metal:define-macro="edit_editor">
    <script language="javascript">
        function questionDel(){
            return confirm(unescape("Sollen die HTML-Daten wirklich gel%F6scht werden?"));
        }
    </script>

    <form tal:attributes="action python:'?id='+id+'&tab=tab_editor'" method="post">
        <tal:block metal:use-macro="header"/>
        <tal:block tal:replace="raw python:oFCKeditor.Create()"/>

        <p align="center">
            <input tal:attributes="value path" type="hidden" name="file_path"/>
            <input i18n:attributes="value edit_editor_save; title edit_editor_save_title" type="submit" name="save_page"/>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <input i18n:attributes="value edit_editor_delete; title edit_editor_delete_title" type="submit" name="delete_page" onclick="return questionDel()"/>
        </p>
    </form>
</tal:block>

<p metal:define-macro="header" i18n:translate="edit_editor_header">
    TEXT
</p>


<tal:block metal:define-macro="fckeditor_customs_filemanager">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    		<title>node image browser</title>
    		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    		<meta name="robots" content="noindex, nofollow">
        <link href="/module/editor/filemanager/browser/default/browser.css" type="text/css" rel="stylesheet"> 
        
<style type="text/css">

.imagecontainer { height:150px; width: 150px; float:left; border:1px solid #888; padding:3px; margin:3px; text-align:center; display:block;}

.image { height:110px; width:144px; border:1px solid #888; display:block;}

#closewindowdiv
{
 clear:left;
}

</style>

<script type="text/javascript">

function SelectFile( fileUrl )
{
window.opener.SetUrl( fileUrl ) ;
window.close() ;
}

function delete_nodefile(s, id, filename){
    var win1;
    var erg;
    var mssg = document.getElementById("deleteconfirm").innerHTML;
    erg = confirm(unescape(mssg));
    if (erg == true) {
    win1=window.open(s+'?delete=True', '', 'width=1,height=1');
    win1.close();
    var el = document.getElementById(filename);
    el.style.display = 'none';
    return 1;
    } else {
    return 1;
    };
}
        
</script>

</head>
<body>

<div id="deleteconfirm" i18n:translate="edit_fckeditor_cfm_deleteconfirm" style="display:none">TEXT</div>

<div height="20%">
<table>
<tr >
		<table width="100%" cellspacing="0" cellpadding="0" border="0" >
			<tbody><tr>
				<td>
					<button type="button" style="width: 100%;">
						<table width="100%" cellspacing="0" cellpadding="0" border="0">
							<tbody><tr>
								<td><img height="32" width="32" src="/module/editor/filemanager/browser/default/images/FolderOpened32.gif" alt=""/></td>
								<td> </td>
								<td nowrap="" width="100%" class="ActualFolder" id="tdName" tal:content="python:'/ node.id='+node.id+' ('+node.name+')'">TEXT</td>
								<td> </td>
								<td><img height="8" width="12" alt="" src="/module/editor/filemanager/browser/default/images/ButtonArrow.gif"/></td>
								<td> </td>
							</tr>
						</tbody></table>
					</button>
				</td>
			</tr>
		</tbody>
   </table>
</tr>
</table>

  <h3 tal:condition="python:len(files)>0"  
      style="border-bottom-style:solid;border-width:1px;padding:10px;" 
      i18n:translate="edit_fckeditor_cfm_clicktochoose">
    TEXT
  </h3>
  
  <h3 tal:condition="python:len(files)==0"  
      style="border-bottom-style:solid;border-width:1px;padding:10px;" 
      i18n:translate="edit_fckeditor_cfm_hasnoimages">  
  </h3>  

<div tal:condition="python:len(files)==0">
  <form method="post">
    <input type="button" i18n:attributes="value edit_fckeditor_cfm_closewindow" 
       onclick="window.close()">
    </form>  
</div>
  <div  style="padding:10">

 <div>
    <div class="imagecontainer" tal:repeat="file files" tal:attributes="id python:file.getName()">

    <img class="image" i18n:attributes="title edit_fckeditor_cfm_clicktochoose"  tal:attributes="src python:'/file/'+node.id+'/'+file.getName(); onclick python:'return SelectFile(\'/file/'+node.id+'/'+file.getName()+'\', '+node.id+')'">

        <div i18n:attributes="title edit_fckeditor_cfm_nameonserver;"  tal:attributes="onclick python:'return SelectFile(\'/file/'+node.id+'/'+file.getName()+'\', '+node.id+')'" tal:content="python:'/file/'+node.id+'/'+file.getName()">
        </div>   
        
        <span style="color:#dd0000;" width="50px" tal:condition="python:(file.getName())==(logoname)" i18n:translate="edit_fckeditor_cfm_imageislogo">
            TEXT
        </span>  
        
        <span width="50px" tal:condition="python:(file.getName())!=(logoname)">
            &nbsp;
        </span>    
        
        <span tal:condition="python: False">
              <!-- disabled delete button !-->
              <div width="75px" style="text-align:center;" tal:condition="python:delbutton">
                  <img i18n:attributes="title edit_fckeditor_cfm_delete" tal:attributes="name python:'delete_'+file.getName(); onclick python:'return delete_nodefile(\'/edit/fckfile/'+node.id+'/'+file.getName()+'\', '+node.id+', \''+file.getName()+'\')'; " type="image" src="/img/delete.png"/>
              </div>
        </span>    
                         
     </div>   
 </div>  
 
<div tal:condition="python: False"> 
 
       <!-- disabled upload form !-->
      
       <div id="div124" style="clear:left; border-style:solid;border-width:1px;height:100;padding:13">
        <form id="form124" tal:attributes="action python:'/edit/upload_for_html/'+node.id+'/?tab=tab_editor'" enctype="multipart/form-data" method="post">
         <p i18n:translate="edit_fckeditor_cfm_uploadexplain">
           You can upload a new file to this node:
         </p>
           <input type="file" name="file" size="40" accept="image/*">
         <div>
          <input type="submit" i18n:attributes="value edit_fckeditor_cfm_uploadbutton">
         </div>
        </form>
       </div>
</div>

<div id="closewindowdiv" tal:condition="python:len(files)>0" style="border-top-style:solid;border-width:1px;padding:10px;margin-top:25px;" >

  <form method="post">
    <input type="button" i18n:attributes="value edit_fckeditor_cfm_closewindow" 
       onclick="window.close()">
  </form>  
</div>
</div>
</body>
</html>

</tal:block>

