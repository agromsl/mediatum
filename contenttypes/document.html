<div metal:define-macro="showbig" id="object_main">
    <div style="width: 100%; text-align:right">
        <a tal:attributes="href python:'node?id='+str(node.id)+'&style=full_standard'" style="text-decoration:none">
            <img i18n:attributes="title full_standard_doc_title" src="/img/doc_default.png"/>
        </a>
        <a tal:attributes="href python:'node?id='+str(node.id)+'&style=full_text'" style="text-decoration:none">
            <img i18n:attributes="title full_text_doc_title" src="/img/doc_text.png"/>
        </a>
        &nbsp;&nbsp;&nbsp;
        <a tal:attributes="href python:'javascript:shoppingBag(\''+str(node.id)+'\')'" href="javascript:shoppingBag(nodeid)" style="text-decoration:none">
            <img i18n:attributes="title view_list_add_shoppingbag" border="0" src="/img/favourite_add.png"/>
        </a>
        <a tal:condition="print_url" tal:attributes="href python:print_url" i18n:attributes="title printview" target="_blank"><img src="/img/print_icon.gif"/></a>
    </div>
    <tal:block tal:condition="python: style!='full_text'">
    
    <div tal:condition="python: len(node.getFiles())>0" id="object_image">
        <tal:block tal:condition="python:canseeoriginal">
           <a tal:attributes="href documentlink" i18n:attributes="title doc_fulltext_title" target="pdfdocument">
               <img tal:attributes="src documentthumb" style="cursor:pointer" border="0" width="300"  alt="Thumbnail not found"/>
           </a>
	   <p></p>
           <tal:block tal:condition="documentdownload" i18n:translate="">
               If you experience problems opening this document, please try 
           </tal:block>
            <a tal:attributes="href documentdownload" i18n:translate="">this link</a>.
        </tal:block>
        <tal:block tal:condition="python:not canseeoriginal">
            <img tal:attributes="src documentthumb" border="0" width="300"/>
        </tal:block>
        <br/>
        <div tal:condition="python:len(attachment)>0" id="object_attachment">
            <a tal:attributes="onclick python:'javascript:openPopup(\'/attachmentbrowser?id='+str(node.id)+'&path='+path+'\', \'Attachment\', 400, 400)'" i18n:translate="doc_att_browser" href="#" >TEXT</a>
        </div>
    </div>
    <div tal:condition="python: len(node.getFiles())==0" id="object_meta" style="margin-left:0px" tal:content="raw metadata"/>
    <div tal:condition="python: len(node.getFiles())>0" id="object_meta" tal:content="raw metadata"/>
    
    </tal:block>

    <tal:block tal:condition="python: style=='full_text'">
        <div id="object_meta" style="margin-left:0px" tal:content="raw metadata"/>
        <div tal:condition="python:len(attachment)>0" id="object_attachment">
            <a tal:attributes="onclick python:'javascript:openPopup(\'/attachmentbrowser?id='+str(node.id)+'&path='+path+'\', \'Attachment\', 400, 400)'" i18n:translate="doc_att_browser" href="#" >TEXT</a>
        </div>
        <tal:block tal:condition="python:canseeoriginal">
            <hr/>
            <a tal:attributes="href python:'/doc/'+str(node.id)+'/'+str(node.id)+'.pdf'" target="pdfdocument" i18n:attributes="title doc_fulltext_title"><img src="/img/pdf.gif"/></a>
        </tal:block>
    </tal:block>
</div>


<html metal:define-macro="attachmentbrowser">
    <head>
        <title i18n:translate="att_browser_title">TEXT</title>
        <link rel="stylesheet" href="/css/tum.css"/>
        <link rel="stylesheet" href="/css/admin.css"/>
    </head>
    <body style="margin:5px">
        <h3 i18n:translate="att_browser_title"></h3>
        <form>

            <table class="overview">
                <tr>
                    <th width="30px" i18n:translate="att_browser_type">TEXT</th>
                    <th align="left" i18n:translate="att_browser_name">TEXT</th>
                    <th align="right" i18n:translate="att_browser_size">TEXT</th>
                </tr>

                <tal:block tal:repeat="file files">
                    <tr tal:define="cssclass python:files.index(file)%2 and 'norm' or 'silver'">
                        
                        <tal:block tal:condition="python:file['type']=='dir' or file['type']=='back'">
                            <td tal:attributes="class cssclass" align="center">
                                <a tal:attributes="href python:'/attachmentbrowser?id='+str(id)+'&path='+file['req_path']">
                                    <img tal:attributes="src python:'/img/'+file['icon']" border="0"/>
                                </a>
                            </td>
                            <td valign="top" tal:attributes="class cssclass"><a tal:attributes="href python:'/attachmentbrowser?id='+str(id)+'&path='+file['req_path']" tal:content="python:file['name']"/></td>

                            <td tal:attributes="class cssclass">&nbsp;</td>
                        </tal:block>


                        <tal:block tal:condition="python:file['type']!='dir' and file['type']!='back'">
                            <td tal:attributes="class cssclass" align="center">
                                <a tal:attributes="href python:'/attfile/'+file['path']" href="" target="_blank">
                                    <img tal:attributes="src python:'/img/'+file['icon']" src="" border="0">
                                </a>
                            </td>
                            <td tal:attributes="class cssclass"><a tal:attributes="href python:'attfile/'+str(id)+'/'+file['path']" target="_blank" tal:content="python:file['name']"/></td>

                            <td tal:attributes="class cssclass" align="right"><small tal:content="python:file['size']"/>&nbsp;</td>
                        </tal:block>

                    </tr>
                </tal:block>
                <tr>
                    <th i18n:translate="att_browser_files" colspan="2" align="left"><span i18n:name="c" tal:content="python:str(len(files))">TEXT</span></th>
                    <th tal:content="sum_size" align="right"/>
                </tr>
            </table>
        </form>
        
    </body>
</html>
