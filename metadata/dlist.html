
<tal:block metal:define-macro="editorfield">
    <select class="text" tal:attributes="disabled python:{0:None,1:'disabled'}[int(lock)]; style python:'width:'+str(width-16)+'px'; name python:name; id python:'select_'+name;">
        <option tal:repeat="v valuelist" tal:attributes="value python:v['select_value']; selected python:{'True':'selected','False':None}[str(v['select_value']==value)]" tal:content="raw python:v['select_text']"/>
    </select>
    <tal:block tal:condition="python:lock!=0" tal:attributes="id python:'lockspan_'+name">&nbsp;
        <input tal:attributes="name python:'lock_'+name; id python:'lock_'+name; onclick python:'handlelock(\''+name+'\')'" type="checkbox"/>
        <small style="color: silver" i18n:translate="editor_overwrite">TEXT</small>
    </tal:block>
</tal:block>


<select metal:define-macro="searchfield" tal:attributes="name python:context.name; id python:context.name;" class="searchfield">
    <tal:block tal:repeat="v valuelist">
    <option tal:condition="python:v[0]!='optgroup'" tal:attributes="value python:''+v[2]+''; selected python:{'True':'selected','False':None}[str(context.value==''+v[2]+'')]" tal:content="raw python:v[1]+v[2]+v[3]"/>
       <optgroup tal:condition="python:v[0]=='optgroup'" tal:replace="raw python:v[1]"/>
    </tal:block>
</select>


<div metal:define-macro="maskeditor" style="display:none" name="div_dlist" id="div_dlist">
    <div class="label" i18n:translate="dlist_edit_source">TEXT</div>
    <input type="text" class="text" name="dlist_value" tal:attributes="value python:value[0]" style="width:200px;"/>
    <br/>
    <div class="label" i18n:translate="dlist_edit_type">TEXT</div>
    <select name="dlist_value" id="dlist_value" style="width:200px;">
        <option tal:repeat="type types" tal:attributes="value type; selected python:{'True':'selected', 'False':None}[str(type==value[1])]" tal:content="python:'dlist_type_'+type" i18n:translate=""/>
    </select>
    <br/>
    <div class="label" i18n:translate="dlist_edit_attr">TEXT</div>
    <input type="text" class="text" name="dlist_value" tal:attributes="value python:value[2]" style="width:200px;"/>
    <br/>
    <div class="label" i18n:translate="dlist_edit_valattr">TEXT</div>
    <input type="text" class="text" name="dlist_value" tal:attributes="value python:value[3]" style="width:200px;"/>
    <br/>
    <div class="label" i18n:translate="dlist_edit_format">TEXT</div>
    <input type="text" class="text" name="dlist_value" tal:attributes="value python:value[4]" style="width:200px;"/>
    <br/>
</div>
