
<metal:block metal:define-macro="edit_stats">
    <div id="editcontent">
        <p><img src="/img/wait.gif"/></p>
    </div>
    <script tal:content="python:'getEditPage(\'editcontent\', '+id+', \'statsfiles\', \'content\')'">  
    </script>
</metal:block>


<metal:block metal:define-macro="edit_stats_popup">
    <form method="post">
        <p>
            <tal:block i18n:translate="edit_stats_stand"/>: <tal:block tal:replace="stand"/> 
            <button type="submit" name="update_stat" i18n:translate="edit_stats_updatebutton">TEXT</button>
        </p>
        <div style="border:1px solid silver; width:150px;padding:2px;">
           <img src="/img/stat_bar.png" style="width:20px;height:10px"/>
           <tal:block i18n:translate="edit_stats_allobjlabel"/>
           <br/>
           <img src="/img/stat_baruser.png" style="width:20px;height:10px"/>
           <tal:block i18n:translate="edit_stats_digobjlabel"/>
        </div>
    </form>
    <table>
        <tr tal:repeat="type python:data.data" tal:define="max python:data.getMax()">
            <td>&nbsp;</td>
            <td style="vertical-align:center">
                <tal:block i18n:translate="" tal:content="python:type.getName()"/>
                <small><a tal:attributes="href python:'#'+type.getName()" i18n:translate="edit_stats_details">TEXT</a></small>
            </td>
            <td>
                <img tal:attributes="width python:str(int(type.getSum())*400/max)+'px'" src="/img/stat_bar.png" style="height:10px">
                <small tal:content="python:type.getSum()"/>
                <br/>
                <img tal:attributes="width python:str(int(type.getSumDigit())*400/max)+'px'" src="/img/stat_baruser.png" style="height:10px">
                <small tal:content="python:type.getSumDigit()"/> <small tal:content="python:'('+str(100*type.getSumDigit()/type.getSum())+'%)'"/>
            </td>
        </tr>
        <tr>
            <td colspan="3"><hr/></td>
        </tr>

        <tal:block tal:repeat="type python:data.data">
        <tr>
            <td colspan="3">
                <a tal:attributes="name python:'#'+type.getName()"> </a>
                <h3><tal:block i18n:translate="" tal:content="python:type.getName()"/><a href="#top"><img src="/img/up.gif"/></a></h3>
            </td>
        </tr>
        <tr>
            <td colspan="3">
                <h4 style="padding-left:5px" i18n:translate="edit_stats_schema">TEXT</h4>
            </td>
        </tr>     
        <tr tal:repeat="items python:type.getTypes()" tal:define="maxt python:type.getMax()">
            <td>&nbsp;</td>
            <td tal:content="python:items[0]"></td> 
            <td>
                <img src="/img/stat_bar.png" tal:attributes="width python:str(int(items[1])*400/maxt)+'px'" style="height:10px">
                <small tal:content="python:items[1]"/>
                <br/>
                <img src="/img/stat_baruser.png" tal:attributes="width python:str(int(items[2])*400/maxt)+'px'" style="height:10px">
                <small tal:content="python:items[2]"/> <small tal:content="python:'('+str(100*items[2]/items[1])+'%)'"/>
            </td>
        </tr>
        </tal:block>
    </table>
</metal:block>
